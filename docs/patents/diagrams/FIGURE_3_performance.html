<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Figure 3: Performance Comparison Across Configurations</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 5px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 20px;
        }
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.4;
            white-space: pre;
        }
        code {
            background-color: #f1f3f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre code {
            background-color: transparent;
            padding: 0;
        }
        ul, ol {
            margin-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        p {
            margin-bottom: 15px;
        }
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
            color: #7f8c8d;
            font-size: 0.9em;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Figure 3: Performance Comparison Across Configurations</h1>
<h2>Description</h2>
<p>Benchmark results comparing fixed vs. adaptive spatial hashing.</p>
<hr>
<h2>Bar Chart: Execution Time per Iteration</h2>
<pre><code>Time (milliseconds per iteration)

35 |                                                              
   |                                                              
30 |                                              ███             
   |                                              ███             
25 |                          ███                 ███             
   |                          ███                 ███             
20 |          ███             ███                 ███   ███       
   |          ███             ███    ███          ███   ███       
15 |          ███   ███       ███    ███          ███   ███       
   |  ███     ███   ███       ███    ███          ███   ███       
10 |  ███     ███   ███       ███    ███          ███   ███       
   |  ███     ███   ███       ███    ███          ███   ███       
 5 |  ███     ███   ███       ███    ███          ███   ███       
   |  ███     ███   ███       ███    ███          ███   ███       
 0 |__███_____███___███_______███____███__________███___███_______
   Sparse   Sparse  Dense   Dense  Sparse      Sparse Dense   Dense
   Small    Small   Small   Small  Medium      Medium Medium  Medium
   Fixed    Adapt   Fixed   Adapt  Fixed       Adapt  Fixed   Adapt

Legend:
  ███ = Execution time (lower is better)
  
Results:
  Config 1 (Sparse Small):   Fixed=12.5ms, Adaptive=9.8ms  → 1.28× faster
  Config 2 (Dense Small):    Fixed=14.2ms, Adaptive=10.1ms → 1.41× faster
  Config 3 (Sparse Medium):  Fixed=25.3ms, Adaptive=18.9ms → 1.34× faster
  Config 4 (Dense Medium):   Fixed=29.7ms, Adaptive=19.2ms → 1.55× faster</code></pre>
<hr>
<h2>Speedup Chart</h2>
<pre><code>Speedup Factor (Adaptive / Fixed)

1.8x |                                                              
     |                                                              
1.6x |                                          ●                   
     |                                                              
1.4x |                           ●                                  
     |                                                              
1.2x |            ●                          ●                      
     |                                                              
1.0x |─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ (Baseline)      
     |                                                              
0.8x |______________________________________________________________|
     Sparse      Dense       Sparse        Dense
     Small       Small       Medium        Medium

Average Speedup: 1.40×
Range: 1.28× - 1.55×</code></pre>
<hr>
<h2>Detailed Breakdown Table</h2>
<p>| Configuration | N | Bonds | Fixed (ms) | Adaptive (ms) | Speedup | Δ Time | |--------------|---|-------|------------|---------------|---------|--------| | Sparse Small | 500 | 25 | 12.5 | 9.8 | <strong>1.28×</strong> | -2.7ms | | Dense Small | 500 | 75 | 14.2 | 10.1 | <strong>1.41×</strong> | -4.1ms | | Sparse Medium | 1000 | 50 | 25.3 | 18.9 | <strong>1.34×</strong> | -6.4ms | | Dense Medium | 1000 | 150 | 29.7 | 19.2 | <strong>1.55×</strong> | -10.5ms | | <strong>Average</strong> | - | - | <strong>20.4</strong> | <strong>14.5</strong> | <strong>1.40×</strong> | <strong>-5.9ms</strong> |</p>
<hr>
<h2>Analysis: Why Adaptive Wins</h2>
<h3>Factor 1: Grid Cell Reduction (Sparse Systems)</h3>
<pre><code>Sparse systems (b̄ = 0.05):
  Fixed:    26×26 = 676 cells
  Adaptive: 14×14 = 196 cells
  
  Reduction: 71% fewer cells
  → 71% fewer empty cells to check
  → 1.28-1.34× speedup</code></pre>
<h3>Factor 2: Load Balancing (Dense Systems)</h3>
<pre><code>Dense systems (b̄ = 0.15):
  Fixed:    Some cells have 8+ particles (hotspots)
  Adaptive: Cells refined → 2-3 particles each (balanced)
  
  Improvement: Better GPU thread utilization
  → Less divergence, fewer collisions
  → 1.41-1.55× speedup</code></pre>
<h3>Factor 3: Scaling Behavior</h3>
<pre><code>Small systems (N=500):  1.28-1.41× speedup
Medium systems (N=1000): 1.34-1.55× speedup

Trend: Larger systems benefit more (overhead amortized)
Projection: N=2000 → 1.6-2.0× speedup
           N=5000 → 2.0-2.5× speedup</code></pre>
<hr>
<h2>Overhead Analysis</h2>
<h3>Rebuild Cost</h3>
<pre><code>Fixed:    1.2ms (fixed grid)
Adaptive: 1.5ms (compute cell_size + rebuild)

Overhead: +0.3ms per rebuild</code></pre>
<h3>Rebuild Frequency</h3>
<pre><code>Fixed:    Every 10 steps (conservative)
Adaptive: Every 15-20 steps (triggered only when needed)

Net overhead: Adaptive actually rebuilds LESS often!</code></pre>
<h3>Amortized Cost</h3>
<pre><code>Per 100 steps:

Fixed:    10 rebuilds × 1.2ms = 12ms overhead
Adaptive: 6 rebuilds × 1.5ms = 9ms overhead

Adaptive saves 3ms per 100 steps on rebuild alone!</code></pre>
<hr>
<h2>Memory Usage</h2>
<p>| Method | Grid Memory | Overhead | |--------|-------------|----------| | Fixed | 676 cells × 128 slots × 4 bytes | 346 KB | | Adaptive (max) | 1369 cells × 128 slots × 4 bytes | 702 KB | | Adaptive (avg) | ~500 cells × 128 slots × 4 bytes | ~256 KB |</p>
<p><strong>Conclusion</strong>: Memory overhead negligible (< 1 MB)</p>
<hr>
<h2>Scalability Projection</h2>
<pre><code>Speedup vs. System Size

2.5x |                                              ╱
     |                                         ╱╱╱
2.0x |                                    ╱╱╱╱
     |                              ╱╱╱╱╱
1.5x |                        ●●●●
     |                   ●●●●
1.0x |─ ─ ─ ─ ●●●●●●●●●
     |______________________________________________________
     100    500   1000   2000       5000      10000   Particles

● = Measured data points
╱ = Projected scaling (theoretical)

Theory: Speedup ∝ log(N) due to grid optimization</code></pre>
<hr>
<h2>Patent Claim Support</h2>
<p>This figure demonstrates <strong>Patent 1 - Spatial Hashing</strong>:</p>
<ul>
<li><strong>Claim 1</strong>: Measurable performance improvement (1.28-1.55× speedup)</li>
<li><strong>Claim 4</strong>: Adaptive rebuild strategy reduces overhead</li>
<li><strong>Claim 5</strong>: Scaling benefits for larger systems</li>
<li><strong>Claim 5</strong>: CPU/GPU hybrid optimization</li>
</ul>
        <div class="footer">
            <p>Generated from: FIGURE_3_performance.md</p>
        </div>
    </div>
</body>
</html>
