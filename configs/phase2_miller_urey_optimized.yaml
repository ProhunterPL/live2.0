# Phase 2 - Miller-Urey Scenario Configuration - OPTIMIZED FOR SPEED
# =====================================================================
# 
# Performance-optimized version with minimal overhead
# Target: >100 steps/second for 10M step runs
#
# Changes from standard config:
# - Minimal metrics collection (every 10000 steps)
# - Minimal diagnostics (every 5000 steps)
# - No thermodynamic validation (for maximum speed)
# - Reduced bond/cluster check frequency
# - Minimal logging
#
# Expected completion time: ~28 hours for 10M steps

scenario_name: "miller_urey_optimized"

simulation:
  name: "miller_urey_optimized"
  scenario: "phase2_prebiotic"
  description: "Miller-Urey reducing atmosphere - OPTIMIZED FOR SPEED"
  
  # Simulation parameters
  n_particles: 2000
  max_steps: 10000000  # 10M steps
  dt: 0.001
  box_size: 100.0
  
  # Temperature
  target_temperature: 298.0  # Room temperature (25Â°C)
  temperature_control: true
  thermostat_strength: 0.1

# Initial composition (Miller-Urey atmosphere)
initial_molecules:
  # Reducing atmosphere
  - name: "methane"
    formula: "CH4"
    count: 500
    
  - name: "ammonia"
    formula: "NH3"
    count: 400
    
  - name: "water"
    formula: "H2O"
    count: 800
    
  - name: "hydrogen"
    formula: "H2"
    count: 300

# Energy input (simulating electrical discharge)
energy_injection:
  enabled: true
  type: "electrical_discharge"
  
  # Pulses every 1000 steps
  pulse_interval: 1000
  pulse_energy: 50.0  # kJ/mol per pulse
  pulse_duration: 10  # steps
  
  # Random location in box
  pulse_radius: 10.0
  pulse_shape: "spherical"

# Physics parameters
physics:
  use_physics_db: true  # Use literature parameters
  enable_bonding: true
  enable_breaking: true
  enable_reactions: true
  
  # Bond formation (OPTIMIZED: less frequent checks)
  bond_check_interval: 500  # Was 150, now 500
  bond_formation_threshold: 2.5  # Angstroms
  
  # Bond breaking (enhanced by electrical discharge)
  bond_breaking_energy_threshold: 0.8
  
  # Clustering (OPTIMIZED: less frequent)
  cluster_check_interval: 1000  # Was 300, now 1000
  cluster_distance_threshold: 3.0

# Performance optimization parameters
performance:
  # CRITICAL: Metrics update interval (main bottleneck!)
  metrics_update_interval: 10000  # Was 5000, now every 10k steps
  
  # Diagnostics frequency
  diagnostics_frequency: 5000  # Was 500, now every 5k steps
  
  # Novelty detection
  novelty_check_interval: 1000  # Was 500, now every 1k steps
  
  # Mutations
  mutation_interval: 2000  # Was 1000, now every 2k steps
  
  # Graph updates (DISABLED for speed)
  graph_update_interval: 999999  # Effectively disabled
  
  # Energy update tracking
  energy_update_interval: 1000

# Validation (DISABLED for maximum speed)
validation:
  enable_thermodynamic_validation: false  # CRITICAL: Disabled for speed
  thermodynamic_check_interval: 999999  # Disabled
  validate_every_n_steps: 999999  # Disabled
  energy_tolerance: 0.001
  momentum_tolerance: 0.0001

# Diagnostics & Output (MINIMIZED)
diagnostics:
  enabled: true
  output_interval: 5000  # Was 500, now every 5k steps
  save_snapshots: true
  snapshot_interval: 50000  # Every 50k steps (unchanged)
  
  metrics:
    - "energy_total"
    - "temperature"
    - "cluster_count"
    - "molecule_count"
    - "bond_count"
    - "novelty_score"

# Benchmark tracking
benchmark:
  track_known_molecules: true
  expected_products:
    - "glycine"  # NH2CH2COOH
    - "alanine"  # NH2CH(CH3)COOH
    - "formaldehyde"  # CH2O
    - "hydrogen_cyanide"  # HCN
    - "formic_acid"  # HCOOH

# Output paths
output:
  base_dir: "results/phase2_optimized/miller_urey"
  save_final_state: true
  export_molecules: true
  export_reactions: true

# Logging (MINIMAL)
logging:
  level: "WARNING"  # Only show warnings and errors
  performance_log_interval: 1000  # Log performance every 1000 steps


